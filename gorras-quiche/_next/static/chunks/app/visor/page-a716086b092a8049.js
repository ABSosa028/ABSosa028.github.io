(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{9536:function(e,r,a){Promise.resolve().then(a.bind(a,499))},499:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var t=a(7437),n=a(2265),s=a(9733),l=e=>{let{isOpen:r,onClose:a}=e,[l,o]=n.useState(""),i=async()=>{if(l)try{let e=await fetch("https://wnw6kgjt-8888.use.devtunnels.ms/marcas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:l})});if(e.ok){let r=await e.json();console.log("Marca creada:",r),alert("Marca creada: "+r.nombre)}else console.error("Error al crear la marca:",e.statusText)}catch(e){console.error("Error en la solicitud:",e)}finally{o(""),a(),window.location.reload()}};return r?(0,t.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"#88d5a8"},children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:a})," ",(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg z-10 max-w-md mx-auto",children:[" ",(0,t.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Ingrese el nombre de la marca"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-4",placeholder:"Nombre de la marca"}),(0,t.jsxs)("div",{className:"flex justify-end",children:[(0,t.jsx)(s.z,{onClick:i,className:"mr-2",children:"Agregar"}),(0,t.jsx)(s.z,{onClick:a,children:"Cancelar"})]})]})]}):null},o=a(8472),i=e=>{let{isOpen:r,onClose:a}=e,[l,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),[j,y]=(0,n.useState)(null),[v,N]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{let e=await o.Z.get("https://wnw6kgjt-8888.use.devtunnels.ms/marcas");N(e.data)}catch(e){console.error("Error fetching marcas:",e)}})()},[]);let w=async()=>{if(!l||!j||!h||!b){alert("Por favor, complete todos los campos obligatorios.");return}let e=parseFloat(c),r=parseFloat(u),t=parseInt(p),n=parseInt(b);if(isNaN(e)||e<0){alert("El precio menudo debe ser un n\xfamero positivo.");return}if(isNaN(r)||r<0){alert("El precio mayor debe ser un n\xfamero positivo.");return}if(isNaN(t)||t<0){alert("La existencia debe ser un n\xfamero entero positivo.");return}if(isNaN(n)||n<=0){alert("El ID de la marca debe ser un n\xfamero entero positivo.");return}let s=new FormData;s.append("nombre",l),s.append("precio_menudo",e.toString()),s.append("precio_mayor",r.toString()),s.append("existencia",t.toString()),s.append("genero",h),s.append("id_marca",n.toString()),s.append("imagen",j);try{await o.Z.post("https://wnw6kgjt-8888.use.devtunnels.ms/cargar-producto",s,{headers:{"Content-Type":"multipart/form-data"}}),alert("Gorra creada correctamente"),a()}catch(e){console.error("Error al crear la gorra:",e),alert("Hubo un error al crear la gorra")}finally{window.location.reload()}};return r?(0,t.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"#1E90FF"},children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:a}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg z-10 max-w-md mx-auto",children:[(0,t.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Agregar Nueva Gorra"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"Nombre",className:"border border-gray-300 rounded p-2 w-full mb-4",required:!0}),(0,t.jsx)("input",{type:"number",value:c,onChange:e=>d(e.target.value),placeholder:"Precio Menudo",className:"border border-gray-300 rounded p-2 w-full mb-4",min:"0",required:!0}),(0,t.jsx)("input",{type:"number",value:u,onChange:e=>m(e.target.value),placeholder:"Precio Mayor",className:"border border-gray-300 rounded p-2 w-full mb-4",min:"0",required:!0}),(0,t.jsx)("input",{type:"number",value:p,onChange:e=>x(e.target.value),placeholder:"Existencia",className:"border border-gray-300 rounded p-2 w-full mb-4",min:"0",required:!0}),(0,t.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-4",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Selecciona un g\xe9nero"}),(0,t.jsx)("option",{value:"H",children:"Hombre"}),(0,t.jsx)("option",{value:"M",children:"Mujer"}),(0,t.jsx)("option",{value:"U",children:"Unisex"})]}),(0,t.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-4",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Selecciona una marca"}),v.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nombre},e.id))]}),(0,t.jsx)("input",{type:"file",onChange:e=>y(e.target.files?e.target.files[0]:null),className:"border border-gray-300 rounded p-2 w-full mb-4",accept:"image/*",required:!0}),(0,t.jsxs)("div",{className:"flex justify-end",children:[(0,t.jsx)(s.z,{onClick:w,className:"mr-2",children:"Agregar"}),(0,t.jsx)(s.z,{onClick:a,children:"Cancelar"})]})]})]}):null},c=e=>{let{isOpen:r,onClose:a,id:l}=e,[o,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[v,N]=(0,n.useState)(null),[w,C]=(0,n.useState)([]);(0,n.useEffect)(()=>{r&&((async()=>{let e=await fetch("https://wnw6kgjt-8888.use.devtunnels.ms/api/products-admin/".concat(l)),r=await e.json();i(r),d(r.name),m(r.precio_menudo),x(r.precio_mayor),g(r.existencia),f(r.genero),y(r.id_marca),N(r.imagen)})(),(async()=>{let e=await fetch("https://wnw6kgjt-8888.use.devtunnels.ms/marcas");C(await e.json())})())},[r,l]);let k=async()=>{let e=new FormData;c&&e.append("nombre",c),u&&e.append("precio_menudo",u),p&&e.append("precio_mayor",p),h&&e.append("existencia",h),b&&e.append("genero",b),j&&e.append("id_marca",j),v&&e.append("imagen",v);try{let r=await fetch("https://wnw6kgjt-8888.use.devtunnels.ms/edit/products-admin/".concat(l),{method:"PUT",body:e});r.ok?(alert("Producto actualizado con \xe9xito"),a(),window.location.reload()):console.error("Error al actualizar el producto:",r.statusText)}catch(e){console.error("Error en la solicitud:",e)}};return r?(0,t.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"#f5961e"},children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:a}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg z-10 max-w-md mx-auto",children:[(0,t.jsx)("h1",{className:"text-lg font-bold mb-4",children:"Editar Gorra"}),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:o.imagen,alt:o.name,style:{width:"100px",height:"100px"},className:"mb-4"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Nombre",className:"border border-gray-300 rounded p-2 w-full mb-4",required:!0}),(0,t.jsx)("input",{type:"number",value:u,onChange:e=>m(e.target.value),placeholder:"Precio Menudo",className:"border border-gray-300 rounded p-2 w-full mb-4",min:"0",required:!0}),(0,t.jsx)("input",{type:"number",value:p,onChange:e=>x(e.target.value),placeholder:"Precio Mayor",className:"border border-gray-300 rounded p-2 w-full mb-4",min:"0",required:!0}),(0,t.jsx)("input",{type:"number",value:h,onChange:e=>g(e.target.value),placeholder:"Existencia",className:"border border-gray-300 rounded p-2 w-full mb-4",min:"0",required:!0}),(0,t.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-4",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Selecciona un g\xe9nero"}),(0,t.jsx)("option",{value:"H",children:"Hombre"}),(0,t.jsx)("option",{value:"M",children:"Mujer"}),(0,t.jsx)("option",{value:"U",children:"Unisex"})]}),(0,t.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"border border-gray-300 rounded p-2 w-full mb-4",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Selecciona una marca"}),w.map(e=>(0,t.jsx)("option",{value:e.id,children:e.nombre},e.id))]}),(0,t.jsx)("input",{type:"file",onChange:e=>N(e.target.files?e.target.files[0]:null),className:"border border-gray-300 rounded p-2 w-full mb-4",accept:"image/*"}),(0,t.jsxs)("div",{className:"flex justify-end",children:[(0,t.jsx)(s.z,{onClick:k,className:"mr-2",children:"Actualizar"}),(0,t.jsx)(s.z,{onClick:a,children:"Cancelar"})]})]})]})]}):null};function d(){let[e,r]=(0,n.useState)([]),[a,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1),[h,g]=(0,n.useState)(0),b=e=>{g(e),x(!0)};(0,n.useEffect)(()=>{(async()=>{try{let e=await o.Z.get("https://wnw6kgjt-8888.use.devtunnels.ms/api/products-admin");r(e.data)}catch(e){console.error("Error fetching brands:",e)}})()},[]);let f=async a=>{try{await o.Z.delete("https://wnw6kgjt-8888.use.devtunnels.ms/gorras/".concat(a)),r(e.filter(e=>e.id!==a))}catch(e){console.error("Error deleting brand:",e)}finally{window.location.reload()}};return(0,t.jsxs)("div",{className:"container mx-auto my-8",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)(s.z,{onClick:()=>d(!0),children:"Agregar Marca"}),(0,t.jsx)(s.z,{onClick:()=>m(!0),children:"Agregar Gorra"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full table-auto",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-200",children:[(0,t.jsx)("th",{className:"px-4 py-2",children:"Nombre"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Marca"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Silueta"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"G\xe9nero"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Precio Mayor"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Precio Menudo"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Existencia"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Imagen"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Acciones"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{className:"bg-gray-200",children:[(0,t.jsx)("td",{className:"px-4 py-2 ",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.brand}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.silueta}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.genero}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.precio_mayor}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.precio_menudo}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.existencia}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("img",{src:e.imagen,alt:"",className:"img-small"})}),(0,t.jsxs)("td",{className:"px-4 py-2 flex justify-end gap-2",children:[(0,t.jsx)(s.z,{size:"sm",onClick:()=>f(e.id),children:"Eliminar"}),(0,t.jsx)(s.z,{size:"sm",onClick:()=>b(e.id),children:"Editar"})]})]},e.id))})]})}),(0,t.jsx)(l,{isOpen:a,onClose:()=>d(!1)}),(0,t.jsx)(i,{isOpen:u,onClose:()=>m(!1)}),(0,t.jsx)(c,{isOpen:p,onClose:()=>x(!1),id:h})]})}},9733:function(e,r,a){"use strict";a.d(r,{z:function(){return c}});var t=a(7437),n=a(2265),s=a(1538),l=a(2218),o=a(9354);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,r)=>{let{className:a,variant:n,size:l,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,t.jsx)(u,{className:(0,o.cn)(i({variant:n,size:l,className:a})),ref:r,...d})});c.displayName="Button"},9354:function(e,r,a){"use strict";a.d(r,{cn:function(){return s}});var t=a(4839),n=a(6164);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,n.m6)((0,t.W)(r))}}},function(e){e.O(0,[183,472,971,23,744],function(){return e(e.s=9536)}),_N_E=e.O()}]);